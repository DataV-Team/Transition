!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((n=n||self).Transition={})}(this,(function(n){"use strict";var t=new Map([]);function r(n,t){var r=function(n,t){for(var r,e,u=n.length,a=u-1,i=0;u>i;i++){if(i!==a)if(e=n[i+1],t>=(r=n[i])[0][0]&&e[0][0]>t)break}return[r[0],r[2]||r[0],e[1]||e[0],e[0]]}(n,t);return function(n,t){var r=n[1][1],e=n[2][1],u=n[3][1],a=1-t;return 1-(n[0][1]*Math.pow(a,3)+3*r*t*Math.pow(a,2)+3*e*Math.pow(t,2)*a+u*Math.pow(t,3))}(r,function(n,t){var r=n[0][0];return(t-r)/(n[3][0]-r)}(r,t))}function e(n,e){var u;u="string"==typeof n?t.get(n):n;var a=1/(e-1);return Array(e).fill(0).map((function(n,t){return t*a})).map((function(n){return r(u,n)}))}var u=function(n,t,r,e){return(n/=e)<1/2.75?r*(7.5625*n*n)+t:2/2.75>n?r*(7.5625*(n-=1.5/2.75)*n+.75)+t:2.5/2.75>n?r*(7.5625*(n-=2.25/2.75)*n+.9375)+t:r*(7.5625*(n-=2.625/2.75)*n+.984375)+t},a=function(n,t,r,e){return r-u(e-n,0,r,e)+t},i=new Map([["linear",function(n,t,r,e){return r*n/e+t}],["easeInSine",function(n,t,r,e){return-r*Math.cos(n/e*(Math.PI/2))+r+t}],["easeOutSine",function(n,t,r,e){return r*Math.sin(n/e*(Math.PI/2))+t}],["easeInOutSine",function(n,t,r,e){return-r/2*(Math.cos(Math.PI*n/e)-1)+t}],["easeInQuad",function(n,t,r,e){return r*(n/=e)*n+t}],["easeOutQuad",function(n,t,r,e){return-r*(n/=e)*(n-2)+t}],["easeInOutQuad",function(n,t,r,e){return 1>(n/=e/2)?r/2*n*n+t:-r/2*(--n*(n-2)-1)+t}],["easeInCubic",function(n,t,r,e){return r*(n/=e)*n*n+t}],["easeOutCubic",function(n,t,r,e){return r*((n=n/e-1)*n*n+1)+t}],["easeInOutCubic",function(n,t,r,e){return 1>(n/=e/2)?r/2*n*n*n+t:r/2*((n-=2)*n*n+2)+t}],["easeInQuart",function(n,t,r,e){return r*(n/=e)*n*n*n+t}],["easeOutQuart",function(n,t,r,e){return-r*((n=n/e-1)*n*n*n-1)+t}],["easeInOutQuart",function(n,t,r,e){return 1>(n/=e/2)?r/2*n*n*n*n+t:-r/2*((n-=2)*n*n*n-2)+t}],["easeInQuint",function(n,t,r,e){return r*(n/=e)*n*n*n*n+t}],["easeOutQuint",function(n,t,r,e){return r*((n=n/e-1)*n*n*n*n+1)+t}],["easeInOutQuint",function(n,t,r,e){return 1>(n/=e/2)?r/2*n*n*n*n*n+t:r/2*((n-=2)*n*n*n*n+2)+t}],["easeInBack",function(n,t,r,e){var u=1.70158;return r*(n/=e)*n*((u+1)*n-u)+t}],["easeOutBack",function(n,t,r,e){var u=1.70158;return r*((n=n/e-1)*n*((u+1)*n+u)+1)+t}],["easeInOutBack",function(n,t,r,e){var u=1.70158;return 1>(n/=e/2)?r/2*(n*n*((1+(u*=1.525))*n-u))+t:r/2*((n-=2)*n*((1+(u*=1.525))*n+u)+2)+t}],["easeInElastic",function(n,t,r,e){return 0===n?t:1==(n/=e)?t+r:-r*Math.pow(2,10*(n-=1))*Math.sin(2*Math.PI*(n*e-.3*e/4)/(.3*e))+t}],["easeOutElastic",function(n,t,r,e){return 0===n?t:1==(n/=e)?t+r:r*Math.pow(2,-10*n)*Math.sin(2*Math.PI*(n*e-.3*e/4)/(.3*e))+r+t}],["easeInOutElastic",function(n,t,r,e){if(0===n)return t;if(2==(n/=e/2))return t+r;var u=e*(.3*1.5),a=u/4;return 1>n?r*Math.pow(2,10*(n-=1))*Math.sin(2*Math.PI*(n*e-a)/u)*-.5+t:r*Math.pow(2,-10*(n-=1))*Math.sin(2*Math.PI*(n*e-a)/u)*.5+r+t}],["easeInBounce",a],["easeOutBounce",u],["easeInOutBounce",function(n,t,r,e){return e/2>n?.5*a(2*n,0,r,e)+t:.5*u(2*n-e,0,r,e)+.5*r+t}]]);function o(n,t){void 0===t&&(t=30);var r=t/(t-1),e=i.get(n);return Array(t).fill(0).map((function(n,u){return e(u*r,0,1,t)}))}function f(n){var r=n instanceof Array,e=t.has(n),u=i.has(n);if(r)return"transitionCurve";if(e)return"transitionCurveName";if(u)return"tween";throw Error("Transition: Invalid ease curve of "+n)}function c(n){return Object.prototype.toString.call(n).replace(/\[object |\]/g,"").toLowerCase()}function s(n){return Number.isFinite(n)}function h(n){var t=c(n);return"array"===t||"object"===t}function v(n,t){return Array(t).fill(0).map((function(t){return n}))}function p(n,t,r){return n.forEach((function(n,e){return n[r]=t[e]})),n}function l(n){return n?[]:{}}function d(n,t,r){var e=t-n;return r.map((function(t){return n+e*t}))}function m(n,t,r,u,a){if(void 0===u&&(u=30),void 0===a&&(a=!1),function(n,t,r,e){var u=[n,t,r,e].map(c);if(u.find((function(n){return"undefined"===n})))throw Error("transition: Missing Parameters!");if(u[1]!==u[2])throw Error("transition: The start state type and the end state type are inconsistent!");if("number"!==u[3]||0>=e)throw Error("Transition: frameNum should be a number and greater than 1");f(n)}(n,t,r,u),!function(n){var t=c(n);return["number","array","object"].includes(t)}(t))return console.warn("Transition: Only supports array number and object types"),[t,r];try{return function n(t,r,e,u){var a=c(t),i=e.length;if("number"===a)return d(t,r,e);var o="array"===a,f=Array(i).fill(o).map(l);for(var m in r){var M=t[m],I=r[m];f=p(f,s(M)&&s(I)?d(M,I,e):h(M)&&h(I)&&u?n(M,I,e,u):v(I,i),m)}return f}(t,r,function(n,t){return void 0===t&&(t=30),("tween"===f(n)?o:e)(n,t)}(n,u),a)}catch(n){return console.warn("Transition: parameter may be abnormal!"),[r]}}n.createAnimator=function(n){return function(t){return new Promise((function(r){!function n(t,r,e,u,a){if(void 0===u&&(u=0),void 0===a&&(a=r.length-1),u>a)return e();var i=r[u];requestAnimationFrame((function(){if(!1===t(i,u))return e();n(t,r,e,++u,a)}))}(n,t,r)}))}},n.default=m,n.extendCurves=function(n,r){return n&&r?(t.set(n,r),!0):(console.error("InjectNewCurve: Missing Parameters!"),!1)},n.transition=m,Object.defineProperty(n,"__esModule",{value:!0})}));
